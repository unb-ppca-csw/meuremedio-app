{"version":3,"sources":["../../src/pages/pesquisa/pesquisa.module.ts","../../src/app/google-analytics.ts","../../src/pages/pesquisa/pesquisa.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { PesquisaPage } from './pesquisa';\n\n@NgModule({\n  declarations: [\n    PesquisaPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PesquisaPage)\n  ],\n  exports: [\n    PesquisaPage\n  ]\n})\nexport class PesquisaPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pesquisa/pesquisa.module.ts","export class GoogleAnalytics {\n\n  private static googleAnalytics(...fields: any[]): void {\n    (window as any).ga(...fields);\n  }\n\n  // https://developers.google.com/analytics/devguides/collection/analyticsjs/single-page-applications?hl=pt-br\n  public static sendPageViewForPage(nomePage: string): void {\n    GoogleAnalytics.googleAnalytics('set', 'page', nomePage);\n    GoogleAnalytics.googleAnalytics('send', 'pageview');\n  }\n\n  // https://developers.google.com/analytics/devguides/collection/analyticsjs/events?hl=pt-br\n  public static sendEvent(eventCategory: string, eventAction: string, eventLabel: string = ''): void {\n    GoogleAnalytics.googleAnalytics('send', {\n      hitType: 'event',\n      eventCategory: eventCategory,\n      eventAction: eventAction,\n      eventLabel: eventLabel\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/google-analytics.ts","import 'rxjs/add/operator/toPromise';\r\n\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\r\n\r\nimport { Remedio } from '../../models/remedio'\r\nimport { RemedioApi } from '../../providers/api/remedio'\r\nimport { Alerta } from '../../providers/alerta'\r\n\r\nimport { GoogleAnalytics } from \"../../app/google-analytics\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-pesquisa',\r\n  templateUrl: 'pesquisa.html'\r\n})\r\nexport class PesquisaPage {\r\n  remedios: Array<Remedio> = [];\r\n  remedio: string = null;\r\n  remedioQtd: number = 0;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public loadingCtrl: LoadingController,\r\n    public remedioApi: RemedioApi,\r\n    public alerta: Alerta) {\r\n    GoogleAnalytics.sendPageViewForPage('/pesquisa');\r\n  }\r\n\r\n  async buscarRemedio(ev) {\r\n    GoogleAnalytics.sendEvent('click', \"Pesquisa:Buscar:Remedio\");\r\n    this.remedioQtd = 0;\r\n    this.remedio = ev.target.value;\r\n    if (!this.remedio || !this.remedio.trim() || this.remedio.length < 3) {\r\n      this.remedios = [];\r\n      return;\r\n    }\r\n    let loading = this.loadingCtrl.create({\r\n      content: 'Carregando...'\r\n    });\r\n    loading.present();\r\n    await this.remedioApi.getByNome(this.remedio).then((result: Array<Remedio>) => {\r\n      if (result.length > 0) {\r\n        this.remedios = result.slice(0, 10);\r\n        loading.dismiss();\r\n      } else {\r\n        loading.dismiss();\r\n        this.alerta.create('Ooops! Nenhum remédio encontrado!');\r\n      }\r\n    }).catch((error: any) => {\r\n      loading.dismiss();\r\n      this.alerta.create('Ooops! Erro ao listar remédios!');\r\n    });\r\n  }\r\n\r\n  async carregarRemedio(ev) {\r\n    this.remedioQtd++;\r\n    await this.remedioApi.getByNome(this.remedio).then((result: Array<Remedio>) => {\r\n      this.remedios = result.slice(0, 20 * this.remedioQtd);\r\n    }).catch((error: any) => {\r\n      this.alerta.create('Ooops! Erro ao listar remédios!');\r\n    });\r\n    ev.complete();\r\n  }\r\n\r\n  cancelarPesquisa(ev) {\r\n    this.remedios = [];\r\n    return;\r\n  }\r\n\r\n  abrirRemedio(remedio: Remedio) {\r\n    GoogleAnalytics.sendEvent('click', \"Pesquisa:Abrir:Remedio\");\r\n    this.navCtrl.push('RemedioDetalhesPage', {\r\n      remedio: remedio\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pesquisa/pesquisa.ts"],"sourceRoot":""}