{"version":3,"sources":["../../src/pages/denuncia/denuncia.module.ts","../../src/app/google-analytics.ts","../../src/pages/denuncia/denuncia.ts","../../src/models/denuncia.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import {NgModule} from '@angular/core';\r\nimport {IonicPageModule} from 'ionic-angular';\r\n\r\nimport {DenunciaPage} from './denuncia';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DenunciaPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(DenunciaPage)\r\n  ],\r\n  exports: [\r\n    DenunciaPage\r\n  ]\r\n})\r\nexport class RemedioDetalhesPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/denuncia/denuncia.module.ts","export class GoogleAnalytics {\n\n  private static googleAnalytics(...fields: any[]): void {\n    (window as any).ga(...fields);\n  }\n\n  // https://developers.google.com/analytics/devguides/collection/analyticsjs/single-page-applications?hl=pt-br\n  public static sendPageViewForPage(nomePage: string): void {\n    GoogleAnalytics.googleAnalytics('set', 'page', nomePage);\n    GoogleAnalytics.googleAnalytics('send', 'pageview');\n  }\n\n  // https://developers.google.com/analytics/devguides/collection/analyticsjs/events?hl=pt-br\n  public static sendEvent(eventCategory: string, eventAction: string, eventLabel: string = ''): void {\n    GoogleAnalytics.googleAnalytics('send', {\n      hitType: 'event',\n      eventCategory: eventCategory,\n      eventAction: eventAction,\n      eventLabel: eventLabel\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/google-analytics.ts","import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\r\n\r\nimport { Denuncia } from '../../models/denuncia'\r\nimport { DenunciaApi } from '../../providers/api/denuncia'\r\nimport { Alerta } from '../../providers/alerta'\r\nimport { Regex } from '../../providers/regex'\r\n\r\nimport { GoogleAnalytics } from \"../../app/google-analytics\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-denuncia',\r\n  templateUrl: 'denuncia.html'\r\n})\r\nexport class DenunciaPage {\r\n  remedio: any;\r\n  denuncia: Denuncia;\r\n  denunciaForm: FormGroup;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public loadingCtrl: LoadingController,\r\n    public formBuilder: FormBuilder,\r\n    public denunciaApi: DenunciaApi,\r\n    public alerta: Alerta,\r\n    public regex: Regex) {\r\n    GoogleAnalytics.sendPageViewForPage('/denuncia');\r\n    this.remedio = navParams.get('remedio');\r\n    this.denuncia = new Denuncia();\r\n    this.denuncia.medicamentoId = this.remedio.idMedicamento;\r\n    this.validarDenuncia();\r\n  }\r\n\r\n  private validarDenuncia() {\r\n    this.denunciaForm = this.formBuilder.group({\r\n      nome: ['', Validators.compose([Validators.minLength(10),\r\n      Validators.maxLength(50),\r\n      Validators.pattern(this.regex.ALFABETO),\r\n      Validators.required])],\r\n      email: ['', Validators.compose([Validators.pattern(this.regex.EMAIL),\r\n      Validators.maxLength(50),\r\n      Validators.required])],\r\n      farmacia: ['', Validators.compose([Validators.maxLength(50),\r\n      Validators.required])],\r\n      preco: ['', Validators.compose([Validators.maxLength(10),\r\n      Validators.required])],\r\n      texto: ['', Validators.compose([Validators.maxLength(100),\r\n      Validators.required])]\r\n    });\r\n  }\r\n\r\n  async salvarDenuncia() {\r\n    GoogleAnalytics.sendEvent('click', \"Denuncia:Cadastrar\");\r\n    let loading = this.loadingCtrl.create({\r\n      content: 'Carregando...'\r\n    });\r\n    loading.present();\r\n    await this.denunciaApi.create(this.denuncia).then((result: any) => {\r\n      this.limparComentario();\r\n      loading.dismiss();\r\n      this.alerta.create('Denúncia inserida com sucesso!');\r\n    }).catch((error: any) => {\r\n      loading.dismiss();\r\n      this.alerta.create('Ooops! Erro ao cadastrar Denúncia!');\r\n    });\r\n  }\r\n\r\n  limparComentario() {\r\n    this.denunciaForm.reset();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/denuncia/denuncia.ts","\r\nexport class Denuncia {\r\n  constructor(\r\n    public id?: number,\r\n    public data?: any,\r\n    public farmacia?: string,\r\n    public nome?: string,\r\n    public email?: string,\r\n    public texto?: any,\r\n    public preco?: number,\r\n    public medicamentoId?: number,\r\n    public medicamentoNome?: string\r\n  ) {\r\n  \r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/denuncia.ts"],"sourceRoot":""}